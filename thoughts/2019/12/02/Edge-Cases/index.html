<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Some edge cases and cautionary examples on using Markdown for writing content using this theme. In particular, list syntax can really knot things up.">
  <meta name="keywords" content="blog and jekyll">
  <meta name="author" content="Edge Cases | Home @ Kalpit Thakkar">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Edge Cases | Home @ Kalpit Thakkar">
  <meta name="twitter:description" content="Some edge cases and cautionary examples on using Markdown for writing content using this theme. In particular, list syntax can really knot things up.">
  
    <meta property="twitter:image" content="/img/logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="/thoughts/2019/12/02/Edge-Cases/">
  <meta property="og:title" content="Edge Cases | Home @ Kalpit Thakkar">
  <meta property="og:description" content="Some edge cases and cautionary examples on using Markdown for writing content using this theme. In particular, list syntax can really knot things up.">
  
    <meta property="og:image" content="/img/logo.png">
  
  <title>Edge Cases | Home @ Kalpit Thakkar</title>

  <!-- CSS files -->
  <!-- link rel="stylesheet" href="/css/font-awesome.min.css" -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/modify.css">
  
  <link rel="stylesheet" href="/css/tufte.css">  
  

  <link rel="canonical" href="/thoughts/2019/12/02/Edge-Cases/">
  <link rel="alternate" type="application/rss+xml" title="Home @ Kalpit Thakkar" href="/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="/favicon_32.ico">
</head>


<body>
<div class="container">
    <div class="row">
        <div class="nav-list-masthead">
            <div class="logo-img">
                <a href="/"><img src="/img/logo.png"></img></a>
            </div>
            <div class="bin-clock">
                <div class="align-clocks">
  <ol class="clock">
    <li class="part">
      <ol class="clock-digit">
	<li class="digit h11"> </li>
	<li class="digit h12"> </li>
	<li class="digit h13"> </li>
	<li class="digit h14"> </li>
      </ol>
      <ol class="clock-digit">
	<li class="digit h21"> </li>
	<li class="digit h22"> </li>
	<li class="digit h23"> </li>
	<li class="digit h24"> </li>
      </ol>
    </li>
    <li class="part">
      <ol class="clock-digit">
	<li class="digit m11"> </li>
	<li class="digit m12"> </li>
	<li class="digit m13"> </li>
	<li class="digit m14"> </li>
      </ol>
      <ol class="clock-digit">
	<li class="digit m21"> </li>
	<li class="digit m22"> </li>
	<li class="digit m23"> </li>
	<li class="digit m24"> </li>
      </ol>
    </li>
    <li class="part">
      <ol class="clock-digit">
	<li class="digit s11"> </li>
	<li class="digit s12"> </li>
	<li class="digit s13"> </li>
	<li class="digit s14"> </li>
      </ol>
      <ol class="clock-digit">
	<li class="digit s21"> </li>
	<li class="digit s22"> </li>
	<li class="digit s23"> </li>
	<li class="digit s24"> </li>
      </ol>
    </li>
  </ol>
  <ol class="clock">
    <li class="part">
      <ol class="real-digit">
	<li class="h1"> 0 </li>
      </ol>
      <ol class="real-digit">
	<li class="h2"> 0 </li>
      </ol>
    </li>
    <li class="real-digit"><strong> : </strong></li>
    <li class="part">
      <ol class="real-digit">
	<li class="m1"> 0 </li>
      </ol>
      <ol class="real-digit">
	<li class="m2"> 0 </li>
      </ol>
    </li>
    <li class="real-digit"><strong> : </strong></li>
    <li class="part">
      <ol class="real-digit">
	<li class="s1"> 0 </li>
      </ol>
      <ol class="real-digit">
	<li class="s2"> 0 </li>
      </ol>
    </li>
  </ol>
</div>

            </div>
        </div>
    </div>
    <div class="row">
        
    </div>

    <article class="group">
      <div id="post">
        <header class="post-header">
          <div class="post-title">Edge Cases</div>
            <span class="post-meta resume">
            <span class="post-date">
              2 DEC 2019
            </span>
            •
            <span class="read-time" title="Estimated read time">
  
  
    4 mins read
  
</span>

            </span>
        </header>
      </div>
      <div class="post-content">
        <p>Some edge cases and cautionary examples on using Markdown for writing content using this theme. In particular, list syntax can really knot things up.</p>

<ul id="markdown-toc">
  <li><a href="#mathjax-improperly-parsing-greater-and-less-than-and-ampersands-inside-blocks" id="markdown-toc-mathjax-improperly-parsing-greater-and-less-than-and-ampersands-inside-blocks">Mathjax improperly parsing greater and less than and ampersands inside blocks</a></li>
  <li><a href="#edge-case-1-from-quxiaofeng" id="markdown-toc-edge-case-1-from-quxiaofeng">Edge Case 1 from Quxiaofeng:</a>    <ul>
      <li><a href="#no-blank-lines-between-markdown-list-items" id="markdown-toc-no-blank-lines-between-markdown-list-items">No blank lines between Markdown list items</a></li>
      <li><a href="#related-algorithms" id="markdown-toc-related-algorithms">Related algorithms</a></li>
      <li><a href="#why-this-matters" id="markdown-toc-why-this-matters">Why this matters</a></li>
      <li><a href="#remarks-on-admm-version-2---one-blank-line-between-markdown-list-items" id="markdown-toc-remarks-on-admm-version-2---one-blank-line-between-markdown-list-items">Remarks on ADMM version 2 - one blank line between Markdown list items</a></li>
      <li><a href="#liquid-tag-parsing-strangeness" id="markdown-toc-liquid-tag-parsing-strangeness">Liquid tag parsing strangeness</a></li>
    </ul>
  </li>
</ul>

<h3 id="mathjax-improperly-parsing-greater-and-less-than-and-ampersands-inside-blocks">Mathjax improperly parsing greater and less than and ampersands inside blocks</h3>

<p>The mathjax plugin has been modified to contain all the block style mathjax inside a <code class="highlighter-rouge">&lt;div class="mathblock"&gt;..&lt;/div&gt;</code> tag wrapper pair
which fixes many of the issues with conflicts with the Kramdown parser. Some examples sent to me by Quxiaofeng are now parsing correctly, I believe.</p>

<p>This code:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="c">% math  %}</span>
  D = <span class="k">\left</span>(<span class="nt">\begin{matrix}</span>
  1 <span class="p">&amp;</span> -1 <span class="p">&amp;</span> <span class="p">&amp;</span> <span class="p">&amp;</span> <span class="p">&amp;</span> <span class="k">\\</span>
  <span class="p">&amp;</span>    <span class="p">&amp;</span> <span class="k">\cdots</span> <span class="p">&amp;</span>   <span class="p">&amp;</span> <span class="k">\\</span>
  <span class="p">&amp;</span>    <span class="p">&amp;</span>        <span class="p">&amp;</span> 1 <span class="p">&amp;</span> -1
 <span class="nt">\end{matrix}</span>
 <span class="k">\right</span>)
<span class="p">{</span><span class="c">% endmath %}</span>
</code></pre></div></div>
<p>yields this:</p>

<div class="mathblock"><script type="math/tex; mode=display">
D = \left(\begin{matrix}
  1 & -1 & & & & \\
  &    & \cdots &   & \\
  &    &        & 1 & -1
\end{matrix}
\right)
</script></div>

<p>Other examples from the <a href="http://latex.wikia.com/wiki/Matrix_environments">wikia Tex reference</a>:</p>

<div class="mathblock"><script type="math/tex; mode=display">
\begin{matrix}
\alpha& \beta^{*}\\
\gamma^{*}& \delta
\end{matrix}
</script></div>

<div class="mathblock"><script type="math/tex; mode=display">
\begin{bmatrix}
\alpha& \beta^{*}\\
\gamma^{*}& \delta
\end{bmatrix}
</script></div>

<div class="mathblock"><script type="math/tex; mode=display">
\begin{Bmatrix}
\alpha& \beta^{*}\\
\gamma^{*}& \delta
\end{Bmatrix}
</script></div>

<div class="mathblock"><script type="math/tex; mode=display">
\begin{vmatrix}
\alpha& \beta^{*}\\
\gamma^{*}& \delta
\end{vmatrix}
</script></div>

<div class="mathblock"><script type="math/tex; mode=display">
\begin{Vmatrix}
\alpha& \beta^{*}\\
\gamma^{*}& \delta
\end{Vmatrix}
</script></div>

<script type="math/tex; mode=display">% <![CDATA[
\begin{Vmatrix}
\alpha& \beta^{*}\\
\gamma^{*}& \delta
\end{Vmatrix} %]]></script>

<p>However, a problem still exists for inline matrix notation, from an example <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics#Matrices_in_running_text">here</a>:</p>

<p>A matrix in text must be set smaller: <script type="math/tex">% <![CDATA[
\bigl(\begin{smallmatrix}a & b \\ c & d\end{smallmatrix} \bigr) %]]></script> to not increase leading in a portion of text</p>

<h2 id="edge-case-1-from-quxiaofeng">Edge Case 1 from Quxiaofeng:</h2>

<h3 id="no-blank-lines-between-markdown-list-items">No blank lines between Markdown list items</h3>

<p>The issue arises when sidenotes and marginnotes are put into list items. For example:</p>

<h3 id="related-algorithms">Related algorithms</h3>

<ul>
  <li>Split Bregman iteration <label for="1" class="margin-toggle sidenote-number"></label><input type="checkbox" id="1" class="margin-toggle" /><span class="sidenote">Goldstein, T. and Osher, S. (2009). The split Bregman method for l1-regularized problems. SIAM J. Img. Sci., 2:323-343. </span></li>
  <li>Dykstra’s alternating projection algorithm <label for="2" class="margin-toggle sidenote-number"></label><input type="checkbox" id="2" class="margin-toggle" /><span class="sidenote">Dykstra, R. L. (1983). An algorithm for restricted least squares regression. J. Amer. Statist. Assoc., 78(384):837-842. </span></li>
  <li>Proximal point algorithm applied to the dual</li>
  <li>Numerous applications in statistics and machine learning: lasso, gen. lasso, graphical lasso, (overlapping) group lasso, …</li>
  <li>Embraces distributed computing for big data <label for="3" class="margin-toggle sidenote-number"></label><input type="checkbox" id="3" class="margin-toggle" /><span class="sidenote">Boyd, S., Parikh, N., Chu, E., Peleato, B., and Eckstein, J. (2011). Distributed optimization and statistical learning via the alternating direction method of multipliers. Found. Trends Mach. learn., 3(1):1-122. </span></li>
</ul>

<h3 id="why-this-matters">Why this matters</h3>

<p>Notice how the sidenotes display properly.</p>

<p><em>In summary</em>: Take out any blank lines between your list items.</p>

<p>Okay, this is a really strange thing about the Jekyll Markdown engine I have never noticed before. If you have a list, and you put a blank line between the items like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    + list item 1

     + list item 2
</code></pre></div></div>

<p>It will create an html tag structure like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ul&gt;
   &lt;li&gt;
      &lt;p&gt;list item 1&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
      &lt;p&gt;list item 2&lt;/p&gt;
   &lt;/li&gt;
&lt;/ul&gt;
</code></pre></div></div>
<p>Which <em>totally</em> goofs up the layout CSS.</p>

<p>However, if your Markdown is this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    + list item 1
     + list item 2
</code></pre></div></div>

<p>It will create a tag structure like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ul&gt;
   &lt;li&gt;list item 1&lt;/li&gt;
   &lt;li&gt;list item 2&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div></div>

<p>Here is the same content as above, with a blank line separating the list items. Notice how the sidenotes get squashed into the main content area:</p>

<h3 id="remarks-on-admm-version-2---one-blank-line-between-markdown-list-items">Remarks on ADMM version 2 - one blank line between Markdown list items</h3>

<p>Related algorithms</p>

<ul>
  <li>
    <p>Split Bregman iteration <label for="1" class="margin-toggle sidenote-number"></label><input type="checkbox" id="1" class="margin-toggle" /><span class="sidenote">Goldstein, T. and Osher, S. (2009). The split Bregman method for l1-regularized problems. SIAM J. Img. Sci., 2:323-343. </span></p>
  </li>
  <li>
    <p>Dykstra’s alternating projection algorithm <label for="2" class="margin-toggle sidenote-number"></label><input type="checkbox" id="2" class="margin-toggle" /><span class="sidenote">Dykstra, R. L. (1983). An algorithm for restricted least squares regression. J. Amer. Statist. Assoc., 78(384):837-842. </span></p>
  </li>
  <li>
    <p>Proximal point algorithm applied to the dual</p>
  </li>
  <li>
    <p>Numerous applications in statistics and machine learning: lasso, gen. lasso, graphical lasso, (overlapping) group lasso, …</p>
  </li>
</ul>

<h3 id="liquid-tag-parsing-strangeness">Liquid tag parsing strangeness</h3>

<p>Example of the proper way to write an url inside a Liquid full-width image tag.</p>

<p>This code: <code class="highlighter-rouge">{% fullwidth "img/rhino.png" "Tufte pet rhino (via &lt;a href=\"//www.edwardtufte.com/tufte/\"&gt;Edward Tufte&lt;/a&gt;)"  %}</code></p>

<figure class="fullwidth"><img src="/img/rhino.png" /><figcaption>Tufte's pet rhino (via <a href="//www.edwardtufte.com/tufte/">Edward Tufte</a>)</figcaption></figure>

      </div>
    </article>

    <div class="share-buttons">
      <h4>SHARE ON: </h4>
      <ol>
        <li>
        <a href="https://twitter.com/intent/tweet?text=/thoughts/2019/12/02/Edge-Cases/" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
        </li>
        <li>
        <a href="https://www.facebook.com/sharer/sharer.php?u=/thoughts/2019/12/02/Edge-Cases/" class="btn facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
        </li>
        <li>
        <a href="https://plus.google.com/share?url=/thoughts/2019/12/02/Edge-Cases/" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
        </li>
        <li>
        <a href="https://news.ycombinator.com/submitlink?u=/thoughts/2019/12/02/Edge-Cases/" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
        </li>
        <li>
        <a href="https://www.reddit.com/submit?url=/thoughts/2019/12/02/Edge-Cases/" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
        </li>
      </ol>
    </div><!-- end share buttons -->

    
    <div class="row">
      
<script src="https://utteranc.es/client.js"
        repo="kalpitthakkar/utterances"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


    </div>
    
</div>

<script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>
<script type="text/javascript" src="/js/clock.js"></script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>




</body>
</html>
